const registroProducto=document.querySelector("#registro_producto_mercado");function mostrarMensaje(e){e.preventDefault();validarCampos()&&Swal.fire({title:"Registrar Producto?",icon:"question",showCancelButton:"Cancelar",confirmButtonText:"Guardar"}).then(r=>{r.isConfirmed&&(Swal.fire("Guardado con exito!","","success"),registerProduct(e))})}function validarCampos(){const e=document.querySelector("#producto"),r=document.querySelector("#marca"),t=document.querySelector("#precio");return!!(e.value&&r.value&&t.value)||(Swal.fire("Falta informaciÃ³n!","","error"),!1)}async function registerProduct(){try{const e=new FormData(registroProducto),r="http://localhost:3000/API/registro-producto",t=await fetch(r,{method:"POST",body:e}),o=await t.json();console.log(o),o&&setTimeout(()=>{document.querySelector(".swal2-container").remove();document.querySelectorAll('input[type="text"], input[type="number"]').forEach((function(e){e.value=""}))},2e3)}catch(e){Swal.fire("Error!","","error")}}registroProducto.addEventListener("submit",(function(e){mostrarMensaje(e)}));